# 2.6 数组

数组（array）是一种有序数据集合，用于以**索引**（index）的方式访问和储存数据。

---

## 交互

### 创建数组

可以通过方括号（`[]`）字面量创建数组：  
```javascript
set arr [1, 2, 3]
set emptyArr []
```

- 除了最后一个项目，其他项目后均需要逗号。
- 数组中所有的位置都需要存在一个元素。

### 访问数组

数组可以通过索引访问：  
```javascript
set arr [1, 2, 3]
set firstItem arr[0] // 1
set lastItem arr[2] // 3
```

索引（方括号）内可以是一个表达式，但是其最终解析需要是整数`number`类型。负数索引从数组末尾开始计数:  
```javascript
set arr [1, 2, 3]
arr[-1] // 3
```

### 修改数组

数组可以通过语法糖或原生方法修改：  
```javascript
set arr [1, 2, 3]

set arr[0] to 4 // [4, 2, 3]
remove arr[1] // [4, 3]
add 5 to arr // [4, 3, 5]
insert 0 to arr at 0 // [0, 4, 3, 5]
```

## 原生方法

数组上存在一些原生方法，用于在函数中操作数组。

### add

在数组末尾添加一个元素。

```javascript
set arr [1, 2, 3]
arr.add(4) // [1, 2, 3, 4]
```

### insert

在数组指定位置插入一个元素。

```javascript
set arr [1, 2, 3]
arr.insert(0, 4) // [4, 1, 2, 3]
```

### remove

移除数组指定位置的元素。

```javascript
set arr [1, 2, 3]
arr.remove(1) // [1, 3]
```

### set

直接设置数组指定位置的元素。

```javascript
set arr [1, 2, 3]
arr.set(0, 4) // [4, 2, 3]
```

### get

获取数组指定位置的元素。

```javascript
set arr [1, 2, 3]
arr.get(0) // 1
```

### includes

判断数组是否包含指定元素。

```javascript
set arr [1, 2, 3]
arr.includes(2) // true
```

### indexOf

获取数组指定元素的索引。

```javascript
set arr [1, 2, 3]
arr.indexOf(2) // 1
```

### lastIndexOf

获取数组指定元素的最后一个索引。

```javascript
set arr [1, 2, 3]
arr.lastIndexOf(2) // 1
```

### length

获取数组的长度。

```javascript
set arr [1, 2, 3]
arr.length() // 3
```

### forEach

遍历数组。

```javascript
set arr [1, 2, 3]
arr.forEach(function(item, index) {
    console.log(item, index)
})
```

### map

遍历数组，并返回一个新数组。

```javascript
set arr [1, 2, 3]
arr.map(function(item, index) {
    return item * 2
})
```

### filter

遍历数组，并返回一个新数组。

```javascript
set arr [1, 2, 3]
arr.filter(function(item, index) {
    return item > 1
})
```

### reduce

遍历数组，并返回一个值。

```javascript
set arr [1, 2, 3]
arr.reduce(function(acc, item, index) {
    return acc + item
})
```

### find

遍历数组，并返回第一个满足条件的元素。

```javascript
set arr [1, 2, 3]
arr.find(function(item, index) {
    return item > 1
})
```

### join

将数组中的所有元素连接成一个字符串。

```javascript
set arr [1, 2, 3]
arr.join(',') // "1,2,3"
```

### pop

移除数组末尾的元素。

```javascript
set arr [1, 2, 3]
arr.pop() // [1, 2]
```

### peak

获取数组末尾的元素。

```javascript
set arr [1, 2, 3]
arr.peak() // 3
```

### slice

从数组中返回一个新数组，包含从开始索引到结束索引之间的所有元素。

```javascript
set arr [1, 2, 3]
arr.slice(0, 2) // [1, 2]
```

### sort

对数组进行排序。

```javascript
set arr [1, 2, 3]
arr.sort() // [1, 2, 3]
```

### splice

从数组中删除指定位置的元素，并返回一个新数组。

```javascript
set arr [1, 2, 3]
arr.splice(1, 2) // [1, 3]
```

## 语法糖

数组存在一些语法糖，用于在函数中操作数组。

### add

在数组末尾添加一个元素。

```javascript
set arr [1, 2, 3]
add 4 to arr // [1, 2, 3, 4]
```

### insert

在数组指定位置插入一个元素。

```javascript
set arr [1, 2, 3]
insert 0 to arr at 0 // [0, 1, 2, 3]
```

### remove

移除数组指定位置的元素。

```javascript
set arr [1, 2, 3]
remove arr[1] // [1, 3]
```

或将特定的元素从数组中删除。这会删除所有匹配的元素。

```javascript
set arr [1, 2, 3]
remove 2 from arr // [1, 3]
```

### set

直接设置数组指定位置的元素。

```javascript
set arr [1, 2, 3]

set arr[0] to 4 // [4, 2, 3]
```

## 下一步

下一章节：[字符串](./7.%20字符串.md)
